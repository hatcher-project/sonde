{"version":3,"sources":["src/js/formatDuration.js","src/js/makeElement.js","src/js/Timeline.js","src/js/onXhrCompletes.js","src/js/resize.js","src/js/Header.js","node_modules/@azasypkin/event-dispatcher/bin/event-dispatcher.es2016.js","src/js/Messages.js","src/js/Bar.js","src/js/index.js"],"names":["formatDuration","ms","toFixed","makeElement","tag","content","classList","attr","let","e","document","createElement","innerHTML","classes","split","i","length","add","setAttribute","isParentOf","parent","child","start","stop","onXhrCompletes","handler","xhrHandlers","defaultXhr","XMLHttpRequest","prototype","open","self","this","addEventListener","readyState","DONE","apply","arguments","push","resize","bar","sizer","offset","header","root","offsetHeight","height","window","innerHeight","clientY","setHeight","stopResize","body","remove","removeEventListener","preventDefault","Header","logo","appendChild","reportSelect","selectWraper","showReport","value","itemList","toggle","on","report","option","Option","label","reports","options","index","lastChild","this$1","removeChild","addPanelTab","panel","tab","children","opened","querySelectorAll","const","assertValidEventName","eventName","Error","assertValidHandler","assertAllowedEventName","allowedEvents","indexOf","p","Object","freeze","Symbol","listeners","EventDispatcher","Array","isArray","Map","handlers","get","Set","set","once","parameters","off","call","delete","size","offAll","clear","emit","forEach","error","console","hasListeners","has","mixin","target","dispatcher","method","bind","Timeline","typeSelector","filterType","duration","data","typeList","parentStack","profiles","profile","profileTypeRealName","type","toLowerCase","profileTypeName","profileTypes","hasOwnProperty","profileType","li","wrapper","bullet","style","color","labelContent","synopsis","synopsisValue","pop","j","localDuration","timeBar","timeBarWrapper","startPct","durationPct","unfoldable","keys","dataDetail","table","row","stackTrace","stackTracePre","trace","i$1","name","element","getAttribute","toLocaleLowerCase","Messages","messages","bubbleCount","outerHTML","message","text","Bar","timeline","default","database","statement","view","localStorage","bodyheight","getItem","store","undefined","parseInt","setItem","close","contains","addProfileType","addReport","listenForXhrReports","xhr","getResponseHeader","chunk","headerName","atob","JSON","parse","reportBundle"],"mappings":"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","file":"index.js","sourcesContent":["export default function formatDuration(ms)\n{\n    if (ms < 1000) {\n        return ms  + '&micro;s';\n    } else if (ms < 1000000) {\n        return (ms / 1000).toFixed(2) + 'ms';\n    }\n    return (ms / 1000000).toFixed(2) + 's';\n}\n","export default function makeElement(tag, content, classList, attr)\n{\n\n    let e = document.createElement(tag);\n\n    if (content) {\n        e.innerHTML = content;\n    }\n\n    if (classList) {\n        let classes = classList.split(' ');\n\n        for (let i = 0; i<classes.length; i++) {\n            e.classList.add(classes[i]);\n        }\n    }\n\n    if (attr) {\n        for (let i in attr) {\n            e.setAttribute(i, attr[i]);\n        }\n    }\n\n    return e;\n\n}\n","import formatDuration from './formatDuration'\nimport makeElement from './makeElement'\n\nfunction isParentOf(parent, child){\n    return child.start > parent.start && child.start < parent.stop;\n}\n\nexport default class Timeline{\n\n    constructor(bar){\n\n        var self = this;\n\n        this.bar = bar;\n\n        this.root = makeElement('div', null, 'phpsonde-panel phpsonde-timeline-panel');\n\n        this.header = makeElement('header', 'Show ');\n        this.root.appendChild(this.header);\n\n        this.typeSelector = document.createElement('select');\n        this.header.appendChild(this.typeSelector);\n\n        this.typeSelector.addEventListener('change', function () {\n            self.filterType(this.value);\n        });\n\n        this.itemList = document.createElement('ul');\n        this.root.appendChild(this.itemList);\n\n        bar.on('showReport', function (index) {\n            self.showReport(bar.reports[index])\n        });\n\n    }\n\n    showReport(report){\n        while (this.itemList.lastChild) {\n            this.itemList.removeChild(this.itemList.lastChild);\n        }\n\n        var duration = report.data.duration;\n\n        if (!duration) {\n            // TODO: calculate duration from items\n            throw \"No valid duration for profile\"\n        }\n\n        this.bar.header.addPanelTab(formatDuration(duration), this.root);\n\n        let typeList = {};\n\n\n        let parentStack = [];\n\n        for (let i = 0; i<report.data.profiles.length; i++) {\n            let profile = report.data.profiles[i];\n\n            // Find profile type config\n            let profileTypeRealName = profile.type.toLowerCase(); // Case insensitive\n            let profileTypeName = this.bar.profileTypes.hasOwnProperty(profileTypeRealName) ? profileTypeRealName : 'default';\n            let profileType =  this.bar.profileTypes[profileTypeName];\n\n            // Add it to the list of filter\n            if (!typeList.hasOwnProperty(profileTypeRealName)) {\n                typeList[profileTypeRealName] = profileType.label || profileTypeRealName;\n            }\n\n            // Create elements\n            let li = document.createElement('li');\n            li.setAttribute('data-phpsonde-type', profileTypeRealName);\n\n            let wrapper = document.createElement('div');\n            li.appendChild(wrapper);\n            wrapper.classList.add('phpsonde-summary');\n\n            // leading color\n            let bullet = makeElement('div', null, 'phpsonde-color-helper');\n            wrapper.appendChild(bullet);\n            bullet.style['background'] = profileType.color;\n\n            // Label\n            let labelContent = profileType.label || profile.type;\n            if(profileType.synopsis && typeof profileType.synopsis === 'function'){\n                let synopsisValue = profileType.synopsis(profile);\n                if(synopsisValue){\n                    labelContent += ` <span class=\"phpsonde-synopsis\">${synopsisValue}</span>`;\n                }\n            }\n\n            // Indentation in label\n            while(parentStack.length > 0){\n                if(isParentOf(parentStack[parentStack.length - 1], profile)){\n                    break;\n                } else {\n                    parentStack.pop();\n                }\n            }\n\n            if(parentStack.length > 0){\n                for(let j = 0; j < parentStack.length; j++){\n                    labelContent = '<div class=\"phpsonde-indent\"></div>' + labelContent;\n                }\n            }\n            parentStack.push(profile);\n\n            // Add label\n            wrapper.appendChild(\n                makeElement('div', labelContent, 'phpsonde-label')\n            );\n\n            // Duration\n            let localDuration = document.createElement('div');\n            localDuration.classList.add('phpsonde-duration');\n            localDuration.innerHTML = formatDuration(profile.stop - profile.start);\n            wrapper.appendChild(localDuration);\n\n            // Timebar\n            let timeBar = document.createElement('div');\n            // Timebar wrapper\n            let timeBarWrapper = document.createElement('div');\n            timeBarWrapper.classList.add('phpsonde-timebar');\n            timeBarWrapper.appendChild(timeBar);\n            wrapper.appendChild(timeBarWrapper);\n\n            // Timebar position\n            let startPct = 100 * profile.start / duration;\n            let durationPct = 100 * (profile.stop - profile.start) / duration;\n            timeBar.style['margin-left'] = startPct + '%';\n\n            if (durationPct > 0) {\n                timeBar.style['width'] = durationPct + '%';\n            } else {\n                timeBar.style['width'] = '1px';\n            }\n\n            // Timebar color\n            if (profileType.color) {\n                timeBar.style['background-color'] = profileType.color;\n            }\n\n\n            // Unfoldable area\n            let unfoldable = document.createElement('div');\n            unfoldable.classList.add('phpsonde-details');\n            li.appendChild(unfoldable);\n\n            // Data Details\n            if (profile.data && Object.keys(profile.data).length > 0) {\n                let dataDetail = makeElement('div', null, 'phpsonde-data-details');\n                dataDetail.appendChild(makeElement('h6', 'Details'));\n                unfoldable.appendChild(dataDetail);\n\n                let table = makeElement('table');\n                dataDetail.appendChild(table);\n                for (let i in profile.data) {\n                    let row = makeElement('tr');\n                    table.appendChild(row);\n\n                    row.appendChild(makeElement('td', i));\n                    row.appendChild(makeElement('td', profile.data[i]));\n                }\n            }\n\n            // Stack trace\n            let stackTrace = document.createElement('div');\n            stackTrace.classList.add('phpsonde-stacktrace');\n            let stackTracePre = document.createElement('pre');\n            stackTracePre.innerHTML = profile.trace;\n            stackTrace.appendChild(makeElement('h6', 'Stack Trace'));\n            stackTrace.appendChild(stackTracePre);\n            unfoldable.appendChild(stackTrace);\n\n\n\n\n            // Unfold on click\n            wrapper.addEventListener('click', function () {\n                unfoldable.classList.toggle('phpsonde-open');\n            });\n\n\n            this.itemList.appendChild(li);\n        }\n\n        while (this.typeSelector.options.length) {\n            this.typeSelector.options.remove(0);\n        }\n\n        let option = new Option('All', -1);\n        this.typeSelector.options[0] = option;\n\n        for (var i in typeList) {\n            let option = new Option(typeList[i], i);\n            this.typeSelector.options[this.typeSelector.options.length] = option;\n        }\n\n    }\n\n    /**\n     * Show only items of given type. This in case insensitive.\n     * @param name\n     */\n    filterType(name){\n\n        if (name == -1) {\n            for (let i = 0; i < this.itemList.children.length; i++) {\n                this.itemList.children[i].classList.remove('phpsonde-hidden');\n            }\n        } else {\n            for (let i = 0; i < this.itemList.children.length; i++) {\n                let element = this.itemList.children[i];\n                if (element.getAttribute('data-phpsonde-type').toLocaleLowerCase() === name) {\n                    this.itemList.children[i].classList.remove('phpsonde-hidden');\n                } else {\n                    this.itemList.children[i].classList.add('phpsonde-hidden');\n                }\n            }\n        }\n\n    }\n\n}\n","let xhrHandlers = null;\n\nexport default function onXhrCompletes(handler)\n{\n    if (null === xhrHandlers) {\n        xhrHandlers = [];\n        let defaultXhr = XMLHttpRequest.prototype.open;\n\n        XMLHttpRequest.prototype.open = function () {\n            let self = this;\n            this.addEventListener(\"readystatechange\", function () {\n                if (self.readyState == XMLHttpRequest.DONE) {\n                    for (var i = 0; i < xhrHandlers.length; i++) {\n                        xhrHandlers[i](self);\n                    }\n                }\n            }, false);\n            defaultXhr.apply(this, arguments);\n        }\n    }\n\n    xhrHandlers.push(handler);\n}\n","/**\n * reserved for internal use\n *\n * bind for the resize bar\n *\n */\nexport default function resize(bar, sizer)\n{\n    function resize(e)\n    {\n        let offset = bar.header.root.offsetHeight + sizer.offsetHeight;\n        let height = window.innerHeight - e.clientY - offset;\n        bar.setHeight(height);\n    }\n\n\n    function stopResize()\n    {\n        document.body.classList.remove('phpsonde-resizing');\n        document.removeEventListener('mouseup', stopResize);\n        document.removeEventListener('mousemove', resize);\n    }\n\n    sizer.addEventListener('mousedown', function (e) {\n\n        e.preventDefault();\n        document.body.classList.add('phpsonde-resizing');\n        document.addEventListener('mousemove', resize);\n        document.addEventListener('mouseup', stopResize)\n\n    });\n\n}\n","import formatDuration from './formatDuration'\nimport makeElement from './makeElement'\n\nexport default class Header{\n\n    constructor(bar){\n        var self = this;\n\n        this.bar = bar;\n        this.root = document.createElement('header');\n\n        var logo = document.createElement('div');\n        this.root.appendChild(logo);\n        logo.innerHTML = 'logo';\n\n        this.reportSelect = document.createElement('select');\n        var selectWraper = document.createElement('div');\n        selectWraper.classList.add('phpsonde-request-select');\n        selectWraper.appendChild(this.reportSelect);\n        this.root.appendChild(selectWraper);\n\n\n\n        this.reportSelect.addEventListener('change', function () {\n            bar.showReport(this.value);\n            // Report refresh is handled by bar.on('showReport', ...) see below\n        });\n\n        this.itemList = document.createElement('ul');\n        this.root.appendChild(this.itemList);\n\n\n        logo.addEventListener('click', function () {\n            self.bar.toggle();\n        });\n\n        bar.on('reportAdded', function (report) {\n            let option = new Option(report.label, bar.reports.length - 1);\n            self.reportSelect.options[self.reportSelect.options.length] = option;\n        });\n\n        bar.on('showReport', function (index) {\n            self.showReport(bar.reports[index])\n        });\n    }\n\n    showReport(report){\n        while (this.itemList.lastChild) {\n            this.itemList.removeChild(this.itemList.lastChild);\n        }\n    }\n\n\n    addPanelTab(label, panel){\n        let tab = makeElement('li', label, 'phpsonde-panel-tab');\n        this.itemList.appendChild(tab);\n\n        var self = this;\n\n        if (this.itemList.children.length === 1) {\n            tab.classList.add('phpsonde-open');\n            panel.classList.add('phpsonde-open');\n        }\n\n        tab.addEventListener('click', function () {\n            var opened = self.bar.root.querySelectorAll('.phpsonde-panel-tab.phpsonde-open, .phpsonde-panel.phpsonde-open');\n\n            for (let i = 0; i < opened.length; i++) {\n                opened[i].classList.remove('phpsonde-open');\n            }\n\n            tab.classList.add('phpsonde-open');\n            panel.classList.add('phpsonde-open');\n\n\n            self.bar.open();\n        });\n    }\n\n\n}\n","'use strict';\n\nconst assertValidEventName = function(eventName) {\n  if (!eventName || typeof eventName !== 'string') {\n    throw new Error('Event name should be a valid non-empty string!');\n  }\n};\n\nconst assertValidHandler = function(handler) {\n  if (typeof handler !== 'function') {\n    throw new Error('Handler should be a function!');\n  }\n};\n\nconst assertAllowedEventName = function(allowedEvents, eventName) {\n  if (allowedEvents && allowedEvents.indexOf(eventName) < 0) {\n    throw new Error(`Event \"${eventName}\" is not allowed!`);\n  }\n};\n\nconst p = Object.freeze({\n  allowedEvents: Symbol('allowedEvents'),\n  listeners: Symbol('listeners')\n});\n\nexport default class EventDispatcher {\n  constructor(allowedEvents) {\n    if (typeof allowedEvents !== 'undefined' && !Array.isArray(allowedEvents)) {\n      throw new Error('Allowed events should be a valid array of strings!');\n    }\n\n    this[p.listeners] = new Map();\n    this[p.allowedEvents] = allowedEvents;\n  }\n\n  /**\n   * Registers listener function to be executed once event occurs.\n   *\n   * @param {string} eventName Name of the event to listen for.\n   * @param {function} handler Handler to be executed once event occurs.\n   */\n  on(eventName, handler) {\n    assertValidEventName(eventName);\n    assertAllowedEventName(this[p.allowedEvents], eventName);\n    assertValidHandler(handler);\n\n    let handlers = this[p.listeners].get(eventName);\n    if (!handlers) {\n      handlers = new Set();\n      this[p.listeners].set(eventName, handlers);\n    }\n\n    // Set.add ignores handler if it has been already registered.\n    handlers.add(handler);\n  }\n\n  /**\n   * Registers listener function to be executed only first time when event\n   * occurs.\n   *\n   * @param {string} eventName Name of the event to listen for.\n   * @param {function} handler Handler to be executed once event occurs.\n   */\n  once(eventName, handler) {\n    assertValidHandler(handler);\n\n    const once = (parameters) => {\n      this.off(eventName, once);\n\n      handler.call(this, parameters);\n    };\n\n    this.on(eventName, once);\n  }\n\n  /**\n   * Removes registered listener for the specified event.\n   *\n   * @param {string} eventName Name of the event to remove listener for.\n   * @param {function} handler Handler to remove, so it won't be executed\n   * next time event occurs.\n   */\n  off(eventName, handler) {\n    assertValidEventName(eventName);\n    assertAllowedEventName(this[p.allowedEvents], eventName);\n    assertValidHandler(handler);\n\n    const handlers = this[p.listeners].get(eventName);\n    if (!handlers) {\n      return;\n    }\n\n    handlers.delete(handler);\n\n    if (!handlers.size) {\n      this[p.listeners].delete(eventName);\n    }\n  }\n\n  /**\n   * Removes all registered listeners for the specified event.\n   *\n   * @param {string=} eventName Name of the event to remove all listeners for.\n   */\n  offAll(eventName) {\n    if (typeof eventName === 'undefined') {\n      this[p.listeners].clear();\n      return;\n    }\n\n    assertValidEventName(eventName);\n    assertAllowedEventName(this[p.allowedEvents], eventName);\n\n    const handlers = this[p.listeners].get(eventName);\n    if (!handlers) {\n      return;\n    }\n\n    handlers.clear();\n\n    this[p.listeners].delete(eventName);\n  }\n\n  /**\n   * Emits specified event so that all registered handlers will be called\n   * with the specified parameters.\n   *\n   * @param {string} eventName Name of the event to call handlers for.\n   * @param {Object=} parameters Optional parameters that will be passed to\n   * every registered handler.\n   */\n  emit(eventName, parameters) {\n    assertValidEventName(eventName);\n    assertAllowedEventName(this[p.allowedEvents], eventName);\n\n    const handlers = this[p.listeners].get(eventName);\n    if (!handlers) {\n      return;\n    }\n\n    handlers.forEach((handler) => {\n      try {\n        handler.call(this, parameters);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  }\n\n  /**\n   * Checks if there are any listeners that listen for the specified event.\n   *\n   * @param {string} eventName Name of the event to check listeners for.\n   * @returns {boolean}\n   */\n  hasListeners(eventName) {\n    assertValidEventName(eventName);\n    assertAllowedEventName(this[p.allowedEvents], eventName);\n\n    return this[p.listeners].has(eventName);\n  }\n\n  /**\n   * Mixes dispatcher methods into target object.\n   * @param {Object} target Object to mix dispatcher methods into.\n   * @param {Array.<string>?} allowedEvents Optional list of the allowed event\n   * names that can be emitted and listened for.\n   * @returns {Object} Target object with added dispatcher methods.\n   */\n  static mixin(target, allowedEvents) {\n    if (!target || typeof target !== 'object') {\n      throw new Error('Object to mix into should be valid object!');\n    }\n\n    if (typeof allowedEvents !== 'undefined' && !Array.isArray(allowedEvents)) {\n      throw new Error('Allowed events should be a valid array of strings!');\n    }\n\n    const dispatcher = new EventDispatcher(allowedEvents);\n    ['on', 'once', 'off', 'offAll', 'emit', 'hasListeners'].forEach((method) => {\n      if (typeof target[method] !== 'undefined') {\n        throw new Error(`Object to mix into already has \"${method}\" property defined!`);\n      }\n\n      if (method !== 'constructor') {\n        target[method] = dispatcher[method].bind(dispatcher);\n      }\n    }, dispatcher);\n\n    return target;\n  }\n}\n","import makeElement from './makeElement'\n\nexport default class Messages{\n\n    constructor(bar){\n\n        var self = this;\n\n        this.bar = bar;\n\n        this.root = makeElement('div', '', 'phpsonde-panel phpsonde-messages-panel');\n        this.itemList = makeElement('ul');\n\n        this.root.appendChild(this.itemList);\n\n        bar.on('showReport', function (index) {\n            self.showReport(bar.reports[index])\n        });\n\n    }\n\n    showReport(report){\n        while (this.itemList.lastChild) {\n            this.itemList.removeChild(this.itemList.lastChild);\n        }\n\n\n        var messages = report.data.messages;\n\n\n        if (!messages) {\n            // TODO: calculate duration from items\n            return;\n        }\n\n        let bubbleCount = makeElement('span', messages.length, 'phpsonde-bubble');\n        this.bar.header.addPanelTab('messages ' + bubbleCount.outerHTML, this.root);\n\n        for (let i = 0; i<messages.length; i++) {\n            let message = messages[i];\n\n            let li = makeElement('li', '&rsaquo; ' +  message.text, 'bar');\n            this.itemList.appendChild(li);\n        }\n\n    }\n\n}\n","import Header from './Header'\nimport EventDispatcher from '../../node_modules/@azasypkin/event-dispatcher/bin/event-dispatcher.es2016';\nimport Timeline from './Timeline'\nimport Messages from './Messages'\nimport onXhrCompletes from './onXhrCompletes'\nimport makeElement from './makeElement'\nimport resize from './resize'\n\nclass Bar {\n\n    constructor(){\n\n        this.root = document.createElement('div');\n        this.root.classList.add('phpsonde');\n\n        // Sizer\n        this.sizer = makeElement('div', null, 'phpsonde-sizer');\n        this.root.appendChild(this.sizer);\n\n        // Header\n        this.header = new Header(this);\n        this.root.appendChild(this.header.root);\n\n        // Body\n        this.body = document.createElement('div');\n        this.body.classList.add('phpsonde-body');\n        this.root.appendChild(this.body);\n\n        // Timeline\n        this.timeline = new Timeline(this);\n        this.body.appendChild(this.timeline.root);\n\n        // Messages\n        this.messages = new Messages(this);\n        this.body.appendChild(this.messages.root);\n\n        // Add to dom\n        document.body.appendChild(this.root);\n\n        // Default values\n        this.reports = [];\n        this.profileTypes = {\n            'default': {\n                color: '#AAA'\n            },\n\n            'database': {\n                color: '#ECB400',\n                synopsis: profile => {\n                    if(profile.data){\n                        return profile.data.statement;\n                    }\n                }\n            },\n\n            'view': {\n                color: '#6DC520',\n                synopsis: profile => {\n                    if(profile.data){\n                        return profile.data.name;\n                    }\n                }\n            }\n        };\n\n        // Bind sizebar\n        resize(this, this.sizer);\n\n        // Initialize state\n        if (localStorage) {\n            let bodyheight = localStorage.getItem('phpsonde_bodyheight');\n            if (null !== bodyheight) {\n                this.setHeight(bodyheight, false);\n            }\n\n            let opened =  localStorage.getItem('phpsonde_baropened');\n            if (opened === 'true' || opened === true) {\n                this.open();\n            }\n        }\n\n        let self = this;\n\n        // If window is too small, we change the size\n        window.addEventListener('resize', function () {\n            if (self.root.offsetHeight > window.innerHeight - 50) {\n                self.setHeight(window.innerHeight, false);\n            }\n        });\n\n    }\n\n    setHeight(height, store){\n\n        store = store === undefined ? true : store === true;\n\n        height = parseInt(height, 10) || 300;\n\n        if (height < 0) {\n            height = 10;\n        } else if (height > window.innerHeight - 50) {\n            height = window.innerHeight - 50;\n        }\n\n        this.body.style.height = height + 'px';\n\n        if (store && localStorage) {\n            localStorage.setItem('phpsonde_bodyheight', height);\n        }\n    }\n\n    open(){\n        this.root.classList.add('phpsonde-open');\n        if (localStorage) {\n            localStorage.setItem('phpsonde_baropened', true);\n        }\n    }\n\n    close(){\n        this.root.classList.remove('phpsonde-open');\n        if (localStorage) {\n            localStorage.setItem('phpsonde_baropened', false);\n        }\n    }\n\n    toggle(){\n        this.root.classList.toggle('phpsonde-open');\n        if (localStorage) {\n            localStorage.setItem('phpsonde_baropened', this.root.classList.contains('phpsonde-open'));\n        }\n    }\n\n    addProfileType(name, data){\n        this.profileTypes[name.toLocaleLowerCase()] = data;\n    }\n\n\n    addReport(label, data){\n\n        let report = {\n            label,\n            data\n        };\n\n        this.reports.push(report);\n\n        this.emit('reportAdded', report);\n\n        if (this.reports.length === 1) {\n            this.showReport(0);\n        }\n\n    }\n\n    showReport(index){\n        this.emit('showReport', index);\n    }\n\n    listenForXhrReports(){\n        var self = this;\n        onXhrCompletes(function (xhr) {\n\n            let headerName = 'phpsondereport';\n\n            let report = xhr.getResponseHeader(headerName);\n\n            if (report) {\n                let i = 1;\n                let chunk;\n                while (chunk = xhr.getResponseHeader(headerName + '-' + i)) {\n                    report += chunk;\n                    i++;\n                }\n\n                try {\n                    report = atob(report);\n                    report = JSON.parse(report);\n                } catch (e) {\n                    console.error('Sonde was unable to decode data fro ajax request, please see the error below'\n                        + ' and report it on https://github.com/hatcher-project/sonde/issues'\n                        + ' with as much details as possible, including your browser version');\n                    console.error(e);\n                }\n\n                if (report.reportBundle) {\n                    for (let i = 0; i < report.reportBundle.length; i++) {\n                        self.addReport('xhr', report.reportBundle[i]);\n                    }\n                } else {\n                    self.addReport('XHR', report);\n                }\n            }\n\n\n        });\n    }\n\n}\n\nEventDispatcher.mixin(Bar.prototype);\n\n\nexport default Bar;\n","import Bar from './Bar';\n\nexport default {\n    Bar\n};\n"]}